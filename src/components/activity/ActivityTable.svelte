<svelte:options immutable={true} />

<script lang="ts">
  import Table from '../ui/Table.svelte';
  import { activities, activityActions, selectedActivityId } from '../../stores/activities';
  import { view } from '../../stores/views';

  export let activityTableId: number;

  let activityTable: ViewActivityTable;

  $: activityTable = $view?.plan.activityTables.find(table => table.id === activityTableId);
</script>

<Table
  columnDefs={activityTable?.columnDefs}
  rowData={$activities}
  rowSelectionMode="single"
  selectedRowId={$selectedActivityId}
  on:rowClick={({ detail }) => activityActions.selectActivity(detail.id)}
/>
